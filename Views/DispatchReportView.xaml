<UserControl x:Class="ERP.Views.DispatchReportView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:local="clr-namespace:ERP.ViewModels"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:helpers="clr-namespace:ERP.Helpers"
>

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Style="{StaticResource CardStyle}" Grid.Row="0">
            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                <TextBlock Text="Dispatch Report" Style="{StaticResource SectionHeaderStyle}" />
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="12,0,0,0">
                    <Button Style="{StaticResource ActionButtonStyle}" Content="Add Dispatch" Command="{Binding AddDispatchCommand}" />
                    <Button Style="{StaticResource ActionButtonStyle}" Content="Delete Dispatch" Command="{Binding RemoveDispatchCommand}" />
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- Divider -->
        <Rectangle Style="{StaticResource Divider}" Grid.Row="1"/>

        <!-- DataGrid -->
        <Border Style="{StaticResource CardStyle}" Grid.Row="2">
            <DataGrid ItemsSource="{Binding Items}"
                      helpers:DataGridExtensions.BindableSelectedItems="{Binding SelectedCollection}"

                      AutoGenerateColumns="False"
                      HeadersVisibility="Column"
                      CanUserAddRows="False"
                      Style="{StaticResource DataGridStyle}">
                <DataGrid.ColumnHeaderStyle>
                    <StaticResource ResourceKey="DataGridHeaderStyle"/>
                </DataGrid.ColumnHeaderStyle>
                <DataGrid.RowStyle>
                    <StaticResource ResourceKey="DataGridRowStyle"/>
                </DataGrid.RowStyle>

                <DataGrid.Columns>
                    <DataGridTextColumn Header="Dispatch No" Binding="{Binding DispatchNo}" Width="1*"/>
                    <DataGridTextColumn Header="Order No" Binding="{Binding OrderNo}" Width="1*"/>
                    <DataGridTextColumn Header="Customer" Binding="{Binding Customer}" Width="1*"/>
                    <DataGridTextColumn Header="Quantity" Binding="{Binding Status}" Width="1*"/>
                    <DataGridTextColumn Header="Date" Binding="{Binding Date}" Width="1*"/>
                </DataGrid.Columns>
            </DataGrid>
        </Border>

        <!-- Pagination -->
        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Center">
            <Button Content="Previous Page" Style="{StaticResource ActionButtonStyle}" Command="{Binding PreviousPageCommand}" />
            <Button Content="Next Page" Style="{StaticResource ActionButtonStyle}" Command="{Binding NextPageCommand}" />
        </StackPanel>
    </Grid>
</UserControl>