<UserControl x:Class="ERP.Views.UserManagementView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
               xmlns:local="clr-namespace:ERP.ViewModels">
    <!--<UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Resources/ModernStyles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>-->

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="auto"/>
        </Grid.RowDefinitions>

        <Border Style="{StaticResource CardStyle}" Grid.Row="0">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="User Management" Style="{StaticResource SectionHeaderStyle}" />
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="12,0,0,0">
                    <Button Style="{StaticResource ActionButtonStyle}" Content="Add User" Command="{Binding AddUserCommand}" />
                    <Button Style="{StaticResource ActionButtonStyle}" Content="Edit User" Command="{Binding EditUserCommand}" />
                    <Button Style="{StaticResource ActionButtonStyle}" Content="Delete User" Command="{Binding RemoveUserCommand}" />
                </StackPanel>
            </StackPanel>
        </Border>

        <Rectangle Style="{StaticResource Divider}" Grid.Row="1"/>

        <Border Style="{StaticResource CardStyle}" Grid.Row="2">



            <DataGrid ItemsSource="{Binding Items}" 
AutoGenerateColumns="False"
                       local:UserManagementViewModel.BindableSelectedItems="{Binding SelectedCollection}"
HeadersVisibility="Column"
CanUserAddRows="False" Style="{StaticResource DataGridStyle}">
                <DataGrid.ColumnHeaderStyle>
                    <StaticResource ResourceKey="DataGridHeaderStyle"/>
                </DataGrid.ColumnHeaderStyle>
                <DataGrid.RowStyle>
                    <StaticResource ResourceKey="DataGridRowStyle"/>
                </DataGrid.RowStyle>

                <DataGrid.Columns  >
                    <DataGridTextColumn Header="User" Binding="{Binding Username}" Width="1*"/>
                    <DataGridTextColumn Header="Role" Binding="{Binding Role}" Width="1*"/>
                </DataGrid.Columns>
            </DataGrid>

        </Border>
        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Center">
            <Button Content="Previous Page" Style="{StaticResource ActionButtonStyle}" Command="{Binding PreviousPageCommand}" ></Button>
            <Button Content="Next Page" Style="{StaticResource ActionButtonStyle}" Command="{Binding NextPageCommand}"></Button>
        </StackPanel>
    </Grid>
</UserControl>