<UserControl x:Class="ERP.Views.PurchaseView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:local="clr-namespace:ERP.ViewModels"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <!--<UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Resources/ModernStyles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>-->

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="auto"/>
        </Grid.RowDefinitions>

        <Border Style="{StaticResource CardStyle}" Grid.Row="0">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="Purchase Management" Style="{StaticResource SectionHeaderStyle}" />
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="12,0,0,0">
                    <Button Style="{StaticResource ActionButtonStyle}" Content="Add Purchase" Command="{Binding AddPurchaseCommand}" />
                    <Button Style="{StaticResource ActionButtonStyle}" Content="Delete Purchase" Command="{Binding RemovePurchaseCommand}" />
                </StackPanel>
            </StackPanel>
        </Border>

        <Rectangle Style="{StaticResource Divider}" Grid.Row="1"/>

        <Border Style="{StaticResource CardStyle}" Grid.Row="2">

            <DataGrid ItemsSource="{Binding Items}" 
  AutoGenerateColumns="False"
 local:PurchaseViewModel.BindableSelectedItems="{Binding SelectedCollection}"
  HeadersVisibility="Column"
  CanUserAddRows="False" Style="{StaticResource DataGridStyle}">
                <DataGrid.ColumnHeaderStyle>
                    <StaticResource ResourceKey="DataGridHeaderStyle"/>
                </DataGrid.ColumnHeaderStyle>
                <DataGrid.RowStyle>
                    <StaticResource ResourceKey="DataGridRowStyle"/>
                </DataGrid.RowStyle>

                <DataGrid.Columns  >
                    <DataGridTextColumn Header="Purchase number" Binding="{Binding OrderNo}" Width="1*"/>
                    <DataGridTextColumn Header="Vendor" Binding="{Binding Vendor}" Width="1*"/>
                    <DataGridTextColumn Header="Amount" Binding="{Binding Date}" Width="1*"/>
                    <DataGridTextColumn Header="Amount" Binding="{Binding Amount}" Width="1*"/>
                    <DataGridTextColumn Header="Amount" Binding="{Binding ProductName}" Width="1*"/>
                </DataGrid.Columns>
            </DataGrid>


        </Border>
        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Center">
            <Button Content="Previous Page" Style="{StaticResource ActionButtonStyle}" Command="{Binding PreviousPageCommand}" ></Button>
            <Button Content="Next Page" Style="{StaticResource ActionButtonStyle}" Command="{Binding NextPageCommand}"></Button>
        </StackPanel>
    </Grid>
</UserControl>